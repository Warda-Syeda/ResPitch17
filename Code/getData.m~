function getData(imgName)  % Telling MATLAB this file is a function

% Identifying image for data extraction
switch imgName
    
    case 'Batman.jpg'
        
        % Loading image
        im = imread(imgName);
        
        % Displaying image
        figure; imagesc(im); axis off
        
        % Requesting user to mark data axis + data points
        [x,y] = getpts(gcf); y = -y;
        
        % Identifying first three points as axis points
        x_O = x(1); y_O = y(1);
        x_L = x(2); y_L = y(3);
        
        % Converting pixel positions to data
        x_data = (x(4:end)-x_O) * (40-0)./(x_L - x_O) + 0;
        y_data = (y(4:end)-y_O) * (100-0)./(y_L - y_O) + 0;
        
        % Plotting Data
        figure; plot(x_data,y_data)
        
        % Labelling data plot
        xlabel('Velocity profile of Batman glide')
        ylabel ('Velocity')
        title ('Trajectory of a falling Batman')
        
        % Setting axis limits
        set(gca, 'xlim',[0 40]);
        set(gca, 'ylim',[0,130]);
        
        disp('Your data is now in your current folder!')
        disp('HINT: You can find the original paper in your current folder too!')
        save('Batman_data','x_O','y_O','x_L','y_L','x_data','y_data');
        
    case 'taxi.jpg'
        im = imread(imgName);
        figure; imagesc(im); axis off
        
        [x,y] = getpts(gcf); y = -y;
        
        x_O = x(1); y_O = y(1);
        
        x_data = (x(2:end)-min(x(:))) * (400-0)./(max(x(:)) - min(x(:))) + 0;
        y_data = (y(2:end)-min(y(:))) * (6-(-6))./(max(y(:)) - min(y(:))) + (-6);
        
        x_O = x(1); y_O = y(1);
        x_L = x(2); y_L = y(3);
        
        x_data = (x(4:end)-x_O) * (400-0)./(x_L - x_O) + 0;
        y_data = (y(4:end)-y_O) * (6-(-6))./(y_L - y_O) + (-6);
        
   
        
        figure; plot(x_data,y_data); 
        hold on
        plot(my_x_data,my_y_data)
        
        
        xlabel('Time as taxi driver')
        ylabel ('Size of Hippocampus')
        title ('Taxi drivers have more developed brains than the rest of the world!')

        
        set(gca, 'xlim',[0 400]);
        set(gca, 'ylim',[-6,6]);
        
        disp('Your data is now in your current folder!')
        disp('HINT: You can find the original paper in your current folder too!')
        save('Taxi_data','x_O','y_O','x_L','y_L','x_data','y_data');
        
    case 'Japan.jpg'
    
        im = imread(imgName);
        figure; imagesc(im); axis off
        
        [x,y] = getpts(gcf); y = -y;
        
        x_O = x(1); y_O = y(1);
        x_L = x(2); y_L = y(3);
        
        x_data = (x(4:end)-x_O) * (6-1)./(x_L - x_O) + 1;
        y_data = (y(4:end)-y_O) * (10-(-4))./(y_L - y_O) + (-4);
        
        my_x_data = [4.47000000000000;4.73000000000000;4.60000000000000;4.73000000000000;4.64000000000000;4.56000000000000;4.45000000000000;4.47000000000000;4.58000000000000;4.68000000000000;4.59000000000000;4.59000000000000;4.73000000000000;4.80000000000000;4.90000000000000;4.78000000000000;4.81000000000000;4.95000000000000;4.90000000000000;4.90000000000000;4.90000000000000;4.95000000000000;5;5.04000000000000;4.91000000000000;4.91000000000000;5.02000000000000;5.08000000000000;4.50000000000000;4.34000000000000;4.50000000000000;4.46000000000000;4.38000000000000;4.38000000000000;4.48000000000000;4.48000000000000;4.48000000000000;4.39000000000000;4.26000000000000;4.37000000000000;4.39000000000000;4.56000000000000;4.69000000000000;4.52000000000000;4.52000000000000;4.34000000000000;4.35000000000000;4.50000000000000;4.51000000000000;4.47000000000000;4.72000000000000;4.89000000000000;5.07000000000000;5.07000000000000;5.04000000000000;4.95000000000000]
        my_y_data = [6.58000000000000;6.71000000000000;6.71000000000000;6.67000000000000;6.40000000000000;6.40000000000000;5.86000000000000;6.22000000000000;6.22000000000000;6.08000000000000;5.99000000000000;5.81000000000000;6.13000000000000;6.76000000000000;5.90000000000000;6.53000000000000;6.04000000000000;6.04000000000000;6.26000000000000;6.40000000000000;6.76000000000000;6.80000000000000;7.03000000000000;7.12000000000000;6.04000000000000;5.50000000000000;6.13000000000000;5.81000000000000;5.90000000000000;5.59000000000000;6.17000000000000;6.67000000000000;6.71000000000000;6.98000000000000;6.98000000000000;6.80000000000000;7.12000000000000;7.12000000000000;6.98000000000000;6.80000000000000;6.62000000000000;6.26000000000000;6.35000000000000;5.68000000000000;5.50000000000000;7.30000000000000;7.12000000000000;7.25000000000000;7.30000000000000;6.44000000000000;6.49000000000000;6.31000000000000;7.07000000000000;7.48000000000000;7.61000000000000;7.79000000000000];
        
        figure; scatter(x_data,y_data)
        
        xlabel('Unemployment Rate')
        ylabel ('Inflation Rate')
        title ('Japan Phillips curve looks like Japan')
        
        set(gca, 'xlim',[1 6]);
        set(gca, 'ylim',[-4,10]);
        
        disp('Your data is now in your current folder!')
        disp('HINT: You can find the original paper in your current folder too!')
        save('Japan_data','x_O','y_O','x_L','y_L','x_data','y_data');
        
    case 'Pigeons.jpg'
        im = imread(imgName);
        figure; imagesc(im); axis off
        
        [x,y] = getpts(gcf); y = -y;
        
        x_O = x(1); y_O = y(1);
        x_L = x(2); y_L = y(3);
        
        x_data = (x(4:end)-x_O) * (5-0)./(x_L - x_O) + 0;
        y_data = (y(4:end)-y_O) * (0.5-0)./(y_L - y_O) + 0;
        
        my_x_data = [0.50;1.71;2.79;3.91;5.05];
        my_y_data = [0.08;0.09;0.17;0.29;0.34];
        
        figure; plot(x_data,y_data)
        hold on
        plot(my_x_data, my_y_data)
        
        legend('Govt data', 'My data')
        
        xlabel('Painting number')
        ylabel ('Relative response')
        title ('Pigeons can discriminate bw good and bad paintings')
        
        
        set(gca, 'xlim',[0 5]);
        set(gca, 'ylim',[0,0.5]);
        
        disp('Your data is now in your current folder!')
        disp('HINT: You can find the original paper in your current folder too!')
        save('Pigeons_data','x_O','y_O','x_L','y_L','x_data','y_data');
 
end
